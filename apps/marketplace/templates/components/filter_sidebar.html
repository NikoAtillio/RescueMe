<div class="filter-sidebar">
    <div class="filter-header">
        <h5><i class="fas fa-filter me-2"></i>Refine Results</h5>
        <button class="btn btn-sm btn-outline-secondary clear-filters-btn" type="button">Clear All</button>
    </div>
    <form method="get" id="filterForm">
        <!-- Species Filter -->
        <div class="filter-section">
            <h6>Species</h6>
            {% for choice in species_choices %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="species" value="{{ choice.0 }}" 
                       id="species_{{ choice.0 }}" {% if choice.0 in selected_species %}checked{% endif %}>
                <label class="form-check-label" for="species_{{ choice.0 }}">{{ choice.1 }}</label>
            </div>
            {% endfor %}
        </div>
        <!-- Size Filter -->
        <div class="filter-section">
            <h6>Size</h6>
            {% for choice in size_choices %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="size" value="{{ choice.0 }}" 
                       id="size_{{ choice.0 }}" {% if request.GET.size == choice.0 %}checked{% endif %}>
                <label class="form-check-label" for="size_{{ choice.0 }}">{{ choice.1 }}</label>
            </div>
            {% endfor %}
        </div>
        <!-- Age Filter -->
        <div class="filter-section">
            <h6>Age</h6>
            {% for choice in age_choices %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="age" value="{{ choice.0 }}" 
                       id="age_{{ choice.0 }}" {% if request.GET.age == choice.0 %}checked{% endif %}>
                <label class="form-check-label" for="age_{{ choice.0 }}">{{ choice.1 }}</label>
            </div>
            {% endfor %}
        </div>
        <!-- Gender Filter -->
        <div class="filter-section">
            <h6>Gender</h6>
            {% for choice in gender_choices %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="gender" value="{{ choice.0 }}" 
                       id="gender_{{ choice.0 }}" {% if request.GET.gender == choice.0 %}checked{% endif %}>
                <label class="form-check-label" for="gender_{{ choice.0 }}">{{ choice.1 }}</label>
            </div>
            {% endfor %}
        </div>
        <!-- Special Status -->
        <div class="filter-section">
            <h6>Special Status</h6>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="urgent" id="urgent" 
                       {% if request.GET.urgent %}checked{% endif %}>
                <label class="form-check-label" for="urgent">Urgent</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="special_needs_flag" id="special_needs" 
                       {% if request.GET.special_needs_flag %}checked{% endif %}>
                <label class="form-check-label" for="special_needs">Special Needs</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="new_arrival" id="new_arrival" 
                       {% if request.GET.new_arrival %}checked{% endif %}>
                <label class="form-check-label" for="new_arrival">New Arrival</label>
            </div>
        </div>
        <!-- Location -->
        <div class="filter-section">
            <h6>Location</h6>
            <input type="text" class="form-control" name="location" placeholder="City or Postcode" 
                   value="{{ request.GET.location|default:'' }}">
        </div>
        <button type="submit" class="btn btn-primary w-100 mt-3">Apply Filters</button>
    </form>
</div>